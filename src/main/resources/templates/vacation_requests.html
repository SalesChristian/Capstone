<!DOCTYPE html>
<html lang="de" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Vacation Requests</title>
    <link rel="stylesheet" th:href="@{/css/vacation_requests.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
</head>
<body>
<div class="container">
    <h1>Vacation Requests</h1>
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>Username</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Status</th>
            <th th:if="${isAdmin}">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="request : ${requests}">
            <td th:text="${request.id}">1</td>
            <td th:text="${request.username}">user1</td>
            <td th:text="${request.startDate}">2023-01-01</td>
            <td th:text="${request.endDate}">2023-01-10</td>
            <td th:text="${request.status}">PENDING</td>
            <td th:if="${isAdmin}">
                <button class="approve-button" th:attr="data-id=${request.id}">Approve</button>
                <button class="reject-button" th:attr="data-id=${request.id}">Reject</button>
            </td>
        </tr>
        </tbody>
    </table>

    <h2>Submit a Vacation Request</h2>
    <form th:action="@{/vacation_requests/submit}" method="post">
        <label for="startDate">Start Date:</label>
        <input type="text" id="startDate" name="startDate" class="date-picker" required>
        <br>
        <label for="endDate">End Date:</label>
        <input type="text" id="endDate" name="endDate" class="date-picker" required>
        <br>
        <button type="submit">Submit Request</button>
    </form>
</div>
<script th:src="@{/js/vacation_requests.js}"></script>
</body>
</html>